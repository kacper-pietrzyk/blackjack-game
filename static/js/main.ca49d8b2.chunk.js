(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],[,,function(e,t,a){e.exports={roundHistoryWrapper:"RoundHistory_roundHistoryWrapper__1Pqh9",roundHistoryWrapper__header:"RoundHistory_roundHistoryWrapper__header__3mLMd",roundHistoryWrapper__close:"RoundHistory_roundHistoryWrapper__close__Xk9MJ",roundHistory:"RoundHistory_roundHistory__2L7P5",roundHistory__list:"RoundHistory_roundHistory__list__2E9c8",roundHistory__listItem:"RoundHistory_roundHistory__listItem__2djhN",roundHistory__listItem_cards:"RoundHistory_roundHistory__listItem_cards__35YEc",roundHistory__optionalDisplay:"RoundHistory_roundHistory__optionalDisplay__kznYH",roundHistory__card:"RoundHistory_roundHistory__card__2ek5g",roundHistory__cardsWrapper:"RoundHistory_roundHistory__cardsWrapper__1YKhR"}},,,,function(e,t,a){e.exports={resultWrapper:"ResultMessage_resultWrapper__1HeYg",result:"ResultMessage_result__3Xdf_",result__header:"ResultMessage_result__header__4S2VU",result__header_big:"ResultMessage_result__header_big__3Y-oQ",result__nextGame:"ResultMessage_result__nextGame__2cO3g"}},function(e,t,a){e.exports={tokensWrapper:"Tokens_tokensWrapper__2q1i4",tokensWrapper__token:"Tokens_tokensWrapper__token__3MVuB",tokensWrapper__token_5:"Tokens_tokensWrapper__token_5__1cllo",tokensWrapper__token_10:"Tokens_tokensWrapper__token_10__2mBy0",tokensWrapper__token_25:"Tokens_tokensWrapper__token_25__2ZjJV",tokensWrapper__token_100:"Tokens_tokensWrapper__token_100__2jcj5",tokensWrapper__token_allIn:"Tokens_tokensWrapper__token_allIn__BuXdU",tokensWrapper__allIn:"Tokens_tokensWrapper__allIn__1c1xq"}},function(e,t,a){e.exports={ranking:"Ranking_ranking__gJYAn",ranking__header:"Ranking_ranking__header__2msl4",ranking__close:"Ranking_ranking__close__1TNkO",ranking__list:"Ranking_ranking__list__3u9a5",ranking__listItem:"Ranking_ranking__listItem__fqjeq",ranking__date:"Ranking_ranking__date__m_WLZ",ranking__dateHeader:"Ranking_ranking__dateHeader__28VHX",ranking__empty:"Ranking_ranking__empty__3BnbX",ranking__emptyHeader:"Ranking_ranking__emptyHeader__1BFPA"}},function(e,t,a){e.exports={option:"Settings_option__2bTZr",message:"Settings_message__3jQ7l",message__text:"Settings_message__text__Shj0n",gamePause:"Settings_gamePause__3gGqG"}},,function(e,t,a){e.exports={info:"Info_info__10A5E",info__header:"Info_info__header__3uRh7",info__close:"Info_info__close__18l8K",info__link:"Info_info__link__G-Bhr",info__spaceParagraph:"Info_info__spaceParagraph__nsm69"}},function(e,t,a){e.exports={backgroundTextWrapper:"BackgroundText_backgroundTextWrapper__3RmOg",backgroundTextWrapper__text:"BackgroundText_backgroundTextWrapper__text__yVKYi",backgroundTextWrapper__text_big:"BackgroundText_backgroundTextWrapper__text_big__DwUmV",backgroundTextWrapper__betInfo:"BackgroundText_backgroundTextWrapper__betInfo__1htfZ",noSelect:"BackgroundText_noSelect__3WTzX"}},function(e,t,a){e.exports={bet:"Bet_bet__8BES6",bet__tokenWrapper:"Bet_bet__tokenWrapper__3aPfS",bet__header:"Bet_bet__header__2htp4",bet__token:"Bet_bet__token__2V7tj",bet__cancel:"Bet_bet__cancel__1sOJj",bet__deal:"Bet_bet__deal__oJWhe"}},,,function(e,t,a){e.exports={actionsWrapper:"Actions_actionsWrapper__2j_7d",actionsWrapper__action:"Actions_actionsWrapper__action__2v3sA"}},function(e,t,a){e.exports={stats:"Stats_stats__2Ki9f",stats__button:"Stats_stats__button__141gv",gamePause:"Stats_gamePause__Dtu1h"}},,,,,function(e,t,a){e.exports={footer:"Footer_footer__27C9m",footer__credit:"Footer_footer__credit__3Oc-j"}},function(e,t,a){e.exports={header:"Header_header__gdzrj",header__round:"Header_header__round__bK0mY",noSelect:"Header_noSelect__1BQCC"}},,,function(e,t,a){e.exports={player:"PlayerCards_player__1jtSt",player__cardsValue:"PlayerCards_player__cardsValue__1D9R9"}},function(e,t,a){e.exports={card:"CardPicture_card__20-vO",card__img:"CardPicture_card__img__Xv2Cf"}},,function(e,t,a){e.exports={wrapper:"Root_wrapper__2H26R",noSelect:"Root_noSelect__wHgVK"}},function(e,t,a){e.exports={main:"Main_main__f7gDU"}},,,,,function(e,t,a){},,,,,,,,function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(28),c=a.n(s),o=(a(35),a(4)),i=a(29),l=a.n(i),_=a(22),d=a.n(_),u=a(10),j=a.n(u),b=a(5),m=a(14),p=a(16),h=a.n(p),x=Object(r.createContext)(),O=function(e,t){var a="https://deckofcardsapi.com/api/deck/".concat(e,"/draw/?count=").concat(t);return new Promise((function(e,t){fetch(a).then((function(e){if(200===e.status)return e.json();throw Error(e.statusText)})).then((function(a){e(a.cards),t("Failed to get cards")})).catch((function(e){console.log("".concat(e,": Failed to get cards from API")),alert("Server error - unfortunately the cards could not be loaded. Please try start new game.")}))}))},f=function(e){for(var t=e.map((function(e){return"JACK"===e.value||"QUEEN"===e.value||"KING"===e.value?10:"ACE"===e.value?e.value:Number(e.value)})),a=t.filter((function(e){return Number.isInteger(e)})),r=t.filter((function(e){return"ACE"===e})),n=0,s=0;s<a.length;s++)n+=a[s];var c=n;return r.length&&r.forEach((function(){c+=c<=10?11:1})),c},k=a(0),g=function(){var e=Object(r.useContext)(x),t=e.bet,a=e.setBet,n=e.credit,s=e.setCredit,c=e.dealerCards,o=e.setDealerCards,i=e.dealerCardsSum,l=e.setDealerCardsSum,_=e.deck,d=e.isDoubleDownAvailable,u=e.isUserTurnFinished,p=e.setIsDoubleDownAvailable,g=e.setIsUserTurnFinished,N=e.setWinner,y=e.userCards,v=e.setUserCards,C=e.userCardsSum,S=e.setUserCardsSum,H=u,w=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,r,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i,r=c,!(t>21)){e.next=12;break}return e.next=5,O(_.deck_id,1);case 5:n=e.sent,r.push.apply(r,Object(b.a)(n)),o(r),a=f(r),l(a),e.next=22;break;case 12:if(!(a<17)){e.next=22;break}return e.next=15,O(_.deck_id,1);case 15:s=e.sent,r.push.apply(r,Object(b.a)(s)),o(r),a=f(r),l(a),e.next=12;break;case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(j.a.mark((function e(r){var c,o,i,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Hit"!==r.target.name){e.next=11;break}return e.next=3,O(_.deck_id,1);case 3:return c=e.sent,v([].concat(Object(b.a)(y),Object(b.a)(c))),o=f([].concat(Object(b.a)(y),Object(b.a)(c))),S(o),p(!1),e.abrupt("return",o);case 11:if("Stand"!==r.target.name){e.next=18;break}return g(!0),H=!0,i=C,e.abrupt("return",i);case 18:if("DoubleDown"!==r.target.name){e.next=30;break}return e.next=21,O(_.deck_id,1);case 21:return l=e.sent,v([].concat(Object(b.a)(y),Object(b.a)(l))),d=f([].concat(Object(b.a)(y),Object(b.a)(l))),S(d),a(2*t),s(n-t),g(!0),H=!0,e.abrupt("return",d);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:if(!((a=e.sent)>21||"Stand"===t.target.name||"DoubleDown"===t.target.name)){e.next=7;break}return e.next=6,w(a);case 6:r=e.sent;case 7:a>21?(N("dealer"),g(!0),H=!0):H&&N(a===r?"draw":a>r||r>21?"user":"dealer");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:!u&&Object(k.jsxs)("div",{className:h.a.actionsWrapper,children:[Object(k.jsx)("button",{className:h.a.actionsWrapper__action,name:"Hit",onClick:D,children:"Hit"}),Object(k.jsx)("button",{className:h.a.actionsWrapper__action,name:"Stand",onClick:D,children:"Stand"}),d&&n>=t&&Object(k.jsx)("button",{className:h.a.actionsWrapper__action,name:"DoubleDown",onClick:D,children:"Double Down"})]})})},N=a(17),y=a.n(N),v=a(8),C=a.n(v),S=function(e){var t=e.handleShowRanking,a=JSON.parse(localStorage.getItem("ranking"));null===a&&(a=[]);var r=a.map((function(e){return Object(k.jsxs)("li",{className:C.a.ranking__listItem,children:[Object(k.jsx)("p",{children:a.indexOf(e)+1}),Object(k.jsxs)("p",{children:["$",e.finalCredit]}),Object(k.jsxs)("div",{className:C.a.ranking__date,children:[Object(k.jsx)("p",{children:e.fullDate.time}),Object(k.jsx)("p",{children:e.fullDate.date})]})]},e.id)}));return Object(k.jsxs)("div",{className:C.a.ranking,children:[Object(k.jsx)("h2",{className:C.a.ranking__header,children:"Top 5 historic results"}),Object(k.jsx)("button",{className:C.a.ranking__close,onClick:t,children:"\xd7"}),Object(k.jsxs)("ul",{className:C.a.ranking__list,children:[Object(k.jsxs)("li",{className:C.a.ranking__listItem,children:[Object(k.jsx)("p",{children:"No."}),Object(k.jsx)("p",{children:"credit"}),Object(k.jsx)("p",{className:C.a.ranking__dateHeader,children:"Date"})]}),r.length?r:Object(k.jsxs)("div",{className:C.a.ranking__empty,children:[Object(k.jsx)("h3",{className:C.a.ranking__emptyHeader,children:"There is no record yet."}),Object(k.jsx)("h2",{className:C.a.ranking__emptyHeader,children:"Your result can be first!"})]})]})]})},H=a(2),w=a.n(H),W=function(e){var t=e.handleShowRoundHistory,a=Object(r.useContext)(x).history,n=a.roundNumber.map((function(e){return Object(k.jsx)("li",{className:w.a.roundHistory__listItem,children:e},Math.random())})),s=a.userCards.map((function(e){return"Your cards"===e?Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__optionalDisplay),children:e},"header"):Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__listItem_cards),children:e.map((function(e){return Object(k.jsx)("div",{className:w.a.roundHistory__cardsWrapper,children:Object(k.jsx)("img",{className:w.a.roundHistory__card,src:e.images.png,alt:"card"})},Math.random())}))},Math.random())})),c=a.userSum.map((function(e){return Object(k.jsx)("li",{className:w.a.roundHistory__listItem,children:e},Math.random())})),o=a.dealerCards.map((function(e){return"Dealer cards"===e?Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__optionalDisplay),children:e},"header"):Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__listItem_cards),children:e.map((function(e){return Object(k.jsx)("div",{className:w.a.roundHistory__cardsWrapper,children:Object(k.jsx)("img",{className:w.a.roundHistory__card,src:e.images.png,alt:"card"})},Math.random())}))},Math.random())})),i=a.dealerSum.map((function(e){return Object(k.jsx)("li",{className:w.a.roundHistory__listItem,children:e},Math.random())})),l=a.winner.map((function(e){return Object(k.jsx)("li",{className:w.a.roundHistory__listItem,children:e},Math.random())})),_=a.bet.map((function(e){return Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__optionalDisplay),children:e},Math.random())})),d=a.profit.map((function(e){return Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__optionalDisplay),children:e},Math.random())})),u=a.credit.map((function(e){return Object(k.jsx)("li",{className:"".concat(w.a.roundHistory__listItem," ").concat(w.a.roundHistory__optionalDisplay),children:e},Math.random())}));return Object(k.jsxs)("div",{className:w.a.roundHistoryWrapper,children:[Object(k.jsx)("h2",{className:w.a.roundHistoryWrapper__header,children:"Round history"}),Object(k.jsx)("button",{className:w.a.roundHistoryWrapper__close,onClick:t,children:"\xd7"}),Object(k.jsxs)("div",{className:w.a.roundHistory,children:[Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:n}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:s}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:c}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:o}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:i}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:l}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:_}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:d}),Object(k.jsx)("ul",{className:w.a.roundHistory__list,children:u})]})]})},D=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),c=Object(o.a)(s,2),i=c[0],l=c[1],_=function(e){"show"===e.target.name?l(!0):l(!1)},d=function(e){"show"===e.target.name?n(!0):n(!1)};return Object(k.jsxs)("div",{className:y.a.stats,children:[Object(k.jsx)("button",{className:y.a.stats__button,name:"show",onClick:_,children:"Ranking"}),Object(k.jsx)("button",{className:y.a.stats__button,name:"show",onClick:d,children:"Round History"}),(i||a)&&Object(k.jsx)("div",{className:y.a.gamePause}),i&&Object(k.jsx)(S,{handleShowRanking:_}),a&&Object(k.jsx)(W,{handleShowRoundHistory:d})]})},I=a(7),T=a.n(I),R=function(){var e=Object(r.useContext)(x),t=e.bet,a=e.setBet,n=e.credit,s=e.setCredit,c=function(e){var r=Number(e.target.value);s(n-r),a(t+r)};return Object(k.jsxs)("div",{className:T.a.tokensWrapper,children:[n>=5&&Object(k.jsx)("button",{className:"".concat(T.a.tokensWrapper__token," ").concat(T.a.tokensWrapper__token_5),value:5,onClick:c,children:"$5"}),n>=10&&Object(k.jsx)("button",{className:"".concat(T.a.tokensWrapper__token," ").concat(T.a.tokensWrapper__token_10),value:10,onClick:c,children:"$10"}),n>=25&&Object(k.jsx)("button",{className:"".concat(T.a.tokensWrapper__token," ").concat(T.a.tokensWrapper__token_25),value:25,onClick:c,children:"$25"}),n>=100&&Object(k.jsx)("button",{className:"".concat(T.a.tokensWrapper__token," ").concat(T.a.tokensWrapper__token_100),value:100,onClick:c,children:"$100"}),n>0&&Object(k.jsx)("button",{className:"".concat(T.a.tokensWrapper__token," ").concat(T.a.tokensWrapper__token_allIn),value:n,onClick:c,children:"All-in"}),0===n&&Object(k.jsx)("h2",{className:T.a.tokensWrapper__allIn,children:"All-in"})]})},A=function(){var e=Object(r.useContext)(x),t=e.credit,a=e.isDealAccepted;return Object(k.jsxs)("footer",{className:"".concat(d.a.footer," ").concat(d.a.noSelect),children:[Object(k.jsx)(D,{}),!a&&Object(k.jsx)(R,{}),a&&Object(k.jsx)(g,{}),Object(k.jsxs)("p",{className:d.a.footer__credit,children:["Credit: $",t]})]})},B=a(23),P=a.n(B),M=a(9),F=a.n(M),G=a(11),U=a.n(G),Y=function(e){var t=e.handleShowInfo;return Object(k.jsxs)("div",{className:U.a.info,children:[Object(k.jsx)("h2",{className:U.a.info__header,children:"Information about Blackjack game"}),Object(k.jsx)("button",{className:U.a.info__close,name:"close",onClick:t,children:"\xd7"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"This game card is 1-on-1 (player vs automated dealer) turn based blackjack game."}),Object(k.jsx)("p",{children:"Starting credit is $1000."}),Object(k.jsx)("p",{className:U.a.info__spaceParagraph,children:"Cards from 6 decks are shuffled before the game begins."}),Object(k.jsx)("p",{children:"Each game consist of 5 rounds. After game the final credit is added to ranking."}),Object(k.jsx)("p",{children:"Each round starts with the player placing a bet and then the cards are dealt."}),Object(k.jsx)("p",{className:U.a.info__spaceParagraph,children:"Winnings are always 1.5x the bet, losing means the bet is gone. Draw means no profit and no loss."}),Object(k.jsx)("p",{children:"During the game the hands from every round and their result is saved and displayed in 'Round History'."}),Object(k.jsx)("p",{children:"The game can be saved, loaded and reset at any time by icons in the upper left corner."}),Object(k.jsx)("p",{className:U.a.info__spaceParagraph,children:"The game saves (as autosave) when the tab or window is closed."}),Object(k.jsxs)("p",{children:["More information about blackjack can be read ",Object(k.jsx)("a",{className:U.a.info__link,href:"https://pl.wikipedia.org/wiki/Blackjack",children:"here"}),"."]})]})]})},E=function(e,t,a,r,n,s,c,o,i,l,_,d,u){e(0),t(1e3),a([]),r(0),n(),s(!1),c(!0),o(!1),i(1),l({bet:["Bet"],credit:["Credit"],dealerCards:["Dealer cards"],dealerSum:["Dealer sum"],userCards:["Your cards"],userSum:["Your sum"],profit:["Profit"],roundNumber:["Round"],winner:["Winner"]}),_([]),d(0),u("")},J=a(18),L=a(20),V=function(e){var t=e.saveGame,a=e.loadGame,n=Object(r.useContext)(x),s=Object(r.useState)(!1),c=Object(o.a)(s,2),i=c[0],l=c[1],_=Object(r.useState)(!1),d=Object(o.a)(_,2),u=d[0],j=d[1],b=function(e){"close"===e.target.name?j(!1):j(!0)};return Object(k.jsxs)("div",{children:[Object(k.jsx)(J.a,{icon:L.c,className:F.a.option,onClick:t,title:"Save game"}),Object(k.jsx)(J.a,{icon:L.a,className:F.a.option,onClick:a,title:"Load game"}),Object(k.jsx)(J.a,{icon:L.d,className:F.a.option,onClick:function(){E(n.setBet,n.setCredit,n.setDealerCards,n.setDealerCardsSum,n.setDeck,n.setIsDealAccepted,n.setIsDoubleDownAvailable,n.setIsUserTurnFinished,n.setRoundNumber,n.setHistory,n.setUserCards,n.setUserCardsSum,n.setWinner),l(!0),setTimeout((function(){l(!1)}),1e3)},title:"Reset"}),Object(k.jsx)(J.a,{icon:L.b,className:F.a.option,onClick:b,title:"Info"}),u&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:F.a.gamePause}),Object(k.jsx)(Y,{handleShowInfo:b})]}),n.isSaveActive&&Object(k.jsx)("div",{className:F.a.message,children:Object(k.jsx)("h2",{className:F.a.message__text,children:"Saving..."})}),n.isLoadActive&&Object(k.jsx)("div",{className:F.a.message,children:Object(k.jsx)("h2",{className:F.a.message__text,children:"Loading..."})}),i&&Object(k.jsx)("div",{className:F.a.message,children:Object(k.jsx)("h2",{className:F.a.message__text,children:"Reset..."})})]})},$=function(e){var t=e.saveGame,a=e.loadGame,n=Object(r.useContext)(x).roundNumber;return Object(k.jsxs)("header",{className:P.a.header,children:[Object(k.jsx)(V,{saveGame:t,loadGame:a}),Object(k.jsxs)("p",{className:"".concat(P.a.header__round," ").concat(P.a.noSelect),children:["Round ",n]})]})},K=a(30),X=a.n(K),q=a(12),Q=a.n(q),Z=function(e){var t=e.bet;return Object(k.jsxs)("div",{className:"".concat(Q.a.backgroundTextWrapper," ").concat(Q.a.noSelect),children:[Object(k.jsx)("h1",{className:"".concat(Q.a.backgroundTextWrapper__text," ").concat(Q.a.backgroundTextWrapper__text_big),children:"Blackjack pays 3 to 2"}),Object(k.jsx)("h2",{className:Q.a.backgroundTextWrapper__text,children:"Dealer must stand on 17 and must draw to 16"}),!t&&Object(k.jsx)("h2",{className:Q.a.backgroundTextWrapper__betInfo,children:"Please place a bet"})]})},z=a(13),ee=a.n(z),te=function(e){var t=e.startNewDeal,a=Object(r.useContext)(x),n=a.bet,s=a.setBet,c=a.credit,o=a.setCredit,i=a.isDealAccepted,l=a.setIsDealAccepted;return Object(k.jsxs)("div",{className:ee.a.bet,children:[!i&&Object(k.jsx)("button",{className:ee.a.bet__deal,onClick:function(){l(!0),t()},children:"Deal"}),Object(k.jsxs)("div",{className:ee.a.bet__tokenWrapper,children:[Object(k.jsx)("h2",{className:ee.a.bet__header,children:"Bet"}),Object(k.jsx)("div",{className:ee.a.bet__token,children:Object(k.jsxs)("p",{children:["$",n]})}),!i&&Object(k.jsx)("button",{className:ee.a.bet__cancel,onClick:function(){s(0),o(c+n)},children:"Cancel bet"})]})]})},ae=a(26),re=a.n(ae),ne=a(27),se=a.n(ne),ce=function(e){var t=e.src;return Object(k.jsx)("div",{className:se.a.card,children:Object(k.jsx)("img",{className:se.a.card__img,src:t,alt:"card"})})},oe=function(e){var t=e.cards,a=e.playerCardsSum,r=t.map((function(e){return Object(k.jsx)(ce,{src:e.images.png},e.code+Math.floor(1e4*Math.random()))}));return Object(k.jsxs)("div",{className:re.a.player,children:[r,a>0&&Object(k.jsx)("p",{className:re.a.player__cardsValue,children:a})]})},ie=a(6),le=a.n(ie),_e=function(e){var t=e.finalCredit,a=e.newGame,n=Object(r.useContext)(x),s=n.bet,c=n.roundNumber,o=n.winner,i=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:le.a.result__header,children:"Dealer loses!"}),Object(k.jsxs)("h3",{className:le.a.result__header,children:["You win $",1.5*s]})]}),l=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"".concat(le.a.result__header," ").concat(le.a.result__header_big),children:"Dealer wins!"}),Object(k.jsxs)("h3",{className:le.a.result__header,children:["You lose $",s]})]}),_=Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("h2",{className:"".concat(le.a.result__header," ").concat(le.a.result__header_big),children:"Draw!"})}),d=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"".concat(le.a.result__header," ").concat(le.a.result__header_big),children:"Game over!"}),Object(k.jsxs)("h3",{className:le.a.result__header,children:["Your final credit is $",t]})]});return Object(k.jsxs)("div",{className:le.a.resultWrapper,children:[Object(k.jsxs)("div",{className:le.a.result,children:["user"===o&&i,"dealer"===o&&l,"draw"===o&&_,(0===t||5===c)&&d]}),o&&c<5&&0!==t&&Object(k.jsx)("button",{className:le.a.result__nextGame,onClick:a,children:"Next round"}),(0===t||5===c)&&Object(k.jsx)("button",{className:le.a.result__nextGame,onClick:a,children:"New game"})]})},de=function(){var e=Object(r.useContext)(x),t=e.bet,a=e.setBet,n=e.credit,s=e.setCredit,c=e.deck,o=e.setDeck,i=e.dealerCards,l=e.setDealerCards,_=e.dealerCardsSum,d=e.setDealerCardsSum,u=e.setIsDealAccepted,p=e.setIsDoubleDownAvailable,h=e.setIsUserTurnFinished,g=e.userCards,N=e.setUserCards,y=e.userCardsSum,v=e.setUserCardsSum,C=e.setRoundNumber,S=e.roundNumber,H=e.history,w=e.setHistory,W=e.winner,D=e.setWinner,I=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,r,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,2);case 2:return a=e.sent,N(a),r=f(a),v(r),e.next=8,O(t,1);case 8:n=e.sent,l(n),s=f(n),d(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=0;switch(W){case"user":T=1.5*t+n;break;case"dealer":T=n;break;default:T=n+t}var R=0;R="user"===W?.5*t:"dealer"===W?-t:0;var A=function(){w({bet:[].concat(Object(b.a)(H.bet),[t]),credit:[].concat(Object(b.a)(H.credit),[T]),dealerCards:[].concat(Object(b.a)(H.dealerCards),[i]),dealerSum:[].concat(Object(b.a)(H.dealerSum),[_]),userCards:[].concat(Object(b.a)(H.userCards),[g]),userSum:[].concat(Object(b.a)(H.userSum),[y]),profit:[].concat(Object(b.a)(H.profit),[R]),roundNumber:[].concat(Object(b.a)(H.roundNumber),[S]),winner:[].concat(Object(b.a)(H.winner),[W])}),"user"===W?s(n+1.5*t):"draw"===W&&s(n+t),a(0),l([]),d(0),u(!1),p(!0),h(!1),C(S+1),N([]),v(0),D("")};return Object(k.jsxs)("main",{className:X.a.main,children:[i.length>0&&Object(k.jsx)(oe,{cards:i,playerCardsSum:_}),Object(k.jsx)(Z,{bet:t}),g.length>0&&Object(k.jsx)(oe,{cards:g,playerCardsSum:y}),0!==t&&Object(k.jsx)(te,{startNewDeal:function(){if(1===S){fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=6").then((function(e){if(200===e.status)return e.json();throw Error(e.statusText)})).then((function(e){o(e),I(e.deck_id)})).catch((function(e){return console.log("".concat(e,": Failed to get cards from API"))}))}else I(c.deck_id)}}),(0===n&&"dealer"===W||5===S&&W)&&Object(k.jsx)(_e,{finalCredit:T,newGame:function(){5===S&&0!==T&&function(){var e=JSON.parse(localStorage.getItem("ranking"));null===e&&(e=[]);var t=Math.floor(1e5*Math.random()),a=(new Date).toLocaleDateString(),r=(new Date).toLocaleTimeString(),n={id:t,finalCredit:T,fullDate:{date:a,time:r}},s=[].concat(Object(b.a)(e),[n]).sort((function(e,t){return t.finalCredit-e.finalCredit}));s.splice(5),localStorage.setItem("ranking",JSON.stringify(s))}(),E(a,s,l,d,o,u,p,h,C,w,N,v,D)}}),"dealer"===W&&S<5&&n>=5&&Object(k.jsx)(_e,{finalCredit:T,newGame:A}),"user"===W&&S<5&&Object(k.jsx)(_e,{finalCredit:T,newGame:A}),"draw"===W&&S<5&&Object(k.jsx)(_e,{finalCredit:T,newGame:A})]})},ue=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1e3),c=Object(o.a)(s,2),i=c[0],_=c[1],d=Object(r.useState)([]),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(0),p=Object(o.a)(m,2),h=p[0],O=p[1],f=Object(r.useState)(),g=Object(o.a)(f,2),N=g[0],y=g[1],v=Object(r.useState)({bet:["Bet"],credit:["Credit"],dealerCards:["Dealer cards"],dealerSum:["Dealer sum"],userCards:["Your cards"],userSum:["Your sum"],profit:["Profit"],roundNumber:["Round"],winner:["Winner"]}),C=Object(o.a)(v,2),S=C[0],H=C[1],w=Object(r.useState)(!1),W=Object(o.a)(w,2),D=W[0],I=W[1],T=Object(r.useState)(!0),R=Object(o.a)(T,2),B=R[0],P=R[1],M=Object(r.useState)(!1),F=Object(o.a)(M,2),G=F[0],U=F[1],Y=Object(r.useState)(!1),E=Object(o.a)(Y,2),J=E[0],L=E[1],V=Object(r.useState)(!1),K=Object(o.a)(V,2),X=K[0],q=K[1],Q=Object(r.useState)(1),Z=Object(o.a)(Q,2),z=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(o.a)(te,2),re=ae[0],ne=ae[1],se=Object(r.useState)(0),ce=Object(o.a)(se,2),oe=ce[0],ie=ce[1],le=Object(r.useState)(""),_e=Object(o.a)(le,2),ue=_e[0],je=_e[1],be={bet:a,setBet:n,credit:i,setCredit:_,dealerCards:j,setDealerCards:b,dealerCardsSum:h,setDealerCardsSum:O,deck:N,setDeck:y,history:S,setHistory:H,isDealAccepted:D,setIsDealAccepted:I,isDoubleDownAvailable:B,setIsDoubleDownAvailable:P,isLoadActive:G,isSaveActive:J,isUserTurnFinished:X,setIsUserTurnFinished:q,roundNumber:z,setRoundNumber:ee,userCards:re,setUserCards:ne,userCardsSum:oe,setUserCardsSum:ie,winner:ue,setWinner:je};return window.addEventListener("beforeunload",(function(e){e.preventDefault(),localStorage.setItem("autosave",JSON.stringify(be)),e.returnValue=""})),Object(k.jsx)(x.Provider,{value:be,children:Object(k.jsxs)("div",{className:l.a.wrapper,children:[Object(k.jsx)($,{saveGame:function(){localStorage.setItem("my-game-save",JSON.stringify(be)),L(!0),setTimeout((function(){L(!1)}),1e3)},loadGame:function(){var e=prompt("If you want to load the game from your own earlier save, please leave 'my-game-save' text below and click 'OK'. If you want to load the game from autosave, please type 'autosave' below and click 'OK'","my-game-save"),t=JSON.parse(localStorage.getItem(e));t&&(U(!0),n(t.bet),_(t.credit),b(t.dealerCards),O(t.dealerCardsSum),y(t.deck),I(t.isDealAccepted),P(t.isDoubleDownAvailable),q(t.isUserTurnFinished),ee(t.roundNumber),H(t.history),ne(t.userCards),ie(t.userCardsSum),je(t.winner),setTimeout((function(){U(!1)}),1e3))}}),Object(k.jsx)(de,{}),Object(k.jsx)(A,{})]})})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(ue,{})}),document.getElementById("root")),je()}],[[43,1,2]]]);
//# sourceMappingURL=main.ca49d8b2.chunk.js.map