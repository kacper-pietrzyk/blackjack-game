(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],[,,,,function(e,t,a){e.exports={resultWrapper:"ResultMessage_resultWrapper__1HeYg",result:"ResultMessage_result__3Xdf_",result__header:"ResultMessage_result__header__4S2VU",result__header_big:"ResultMessage_result__header_big__3Y-oQ",result__nextGame:"ResultMessage_result__nextGame__2cO3g"}},function(e,t,a){e.exports={option:"Settings_option__2bTZr",resetMessage:"Settings_resetMessage__1OaT8",resetMessage__text:"Settings_resetMessage__text__282mW"}},function(e,t,a){e.exports={tokensWrapper:"Tokens_tokensWrapper__2q1i4",tokensWrapper__token:"Tokens_tokensWrapper__token__3MVuB",tokensWrapper__allIn:"Tokens_tokensWrapper__allIn__1c1xq"}},function(e,t,a){e.exports={bet:"Bet_bet__8BES6",bet__tokenWrapper:"Bet_bet__tokenWrapper__3aPfS",bet__header:"Bet_bet__header__2htp4",bet__token:"Bet_bet__token__2V7tj",bet__deal:"Bet_bet__deal__oJWhe"}},,function(e,t,a){e.exports={actionsWrapper:"Actions_actionsWrapper__2j_7d",actionsWrapper__action:"Actions_actionsWrapper__action__2v3sA"}},,function(e,t,a){e.exports={backgroundTextWrapper:"BackgroundText_backgroundTextWrapper__3RmOg",backgroundTextWrapper__text:"BackgroundText_backgroundTextWrapper__text__yVKYi",noSelect:"BackgroundText_noSelect__3WTzX"}},,,function(e,t,a){e.exports={header:"Header_header__gdzrj",header__round:"Header_header__round__bK0mY",noSelect:"Header_noSelect__1BQCC"}},,,,,function(e,t,a){e.exports={footer:"Footer_footer__27C9m"}},function(e,t,a){e.exports={player:"PlayerCards_player__1jtSt",player__cardsValue:"PlayerCards_player__cardsValue__1D9R9"}},function(e,t,a){e.exports={card:"CardPicture_card__1J3W7",card__img:"CardPicture_card__img__3iDGS"}},,function(e,t,a){e.exports={wrapper:"Root_wrapper__2H26R",noSelect:"Root_noSelect__wHgVK"}},function(e,t,a){e.exports={ranking:"Ranking_ranking__gJYAn"}},function(e,t,a){e.exports={roundHistory:"RoundHistory_roundHistory__2L7P5"}},function(e,t,a){e.exports={main:"Main_main__f7gDU"}},,,,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(22),n=a.n(c),o=(a(31),a(3)),i=a(23),l=a.n(i),u=a(19),d=a.n(u),_=a(9),j=a.n(_),b=Object(s.createContext)(),m=a(12),p=function(e){var t=e.map((function(e){return"JACK"===e.value||"QUEEN"===e.value||"KING"===e.value?10:"ACE"===e.value?e.value:Number(e.value)})),a=t.filter((function(e){return Number.isInteger(e)})),s=t.filter((function(e){return"ACE"===e})),r=a.reduce((function(e,t){return e+t}));return s.length&&s.forEach((function(){r+=r<=10?11:1})),r},x=function(e,t,a,s,r){var c="https://deckofcardsapi.com/api/deck/".concat(e,"/draw/?count=").concat(t);fetch(c).then((function(e){if(200===e.status)return e.json();throw Error(e.statusText)})).then((function(e){if(a){s([].concat(Object(m.a)(a),Object(m.a)(e.cards)));var t=p([].concat(Object(m.a)(a),Object(m.a)(e.cards)));r(t)}else{s(e.cards);var c=p(e.cards);r(c)}})).catch((function(e){return console.log("".concat(e,": Failed to get cards from API"))}))},O=a(0),h=function(){var e=Object(s.useContext)(b),t=e.bet,a=e.setBet,r=e.credit,c=e.setCredit,n=e.dealerCards,o=e.setDealerCards,i=e.dealerCardsSum,l=e.setDealerCardsSum,u=e.deck,d=e.isDoubleDownAvailable,_=e.isUserTurnFinished,m=e.setIsDoubleDownAvailable,p=e.setIsUserTurnFinished,h=e.setWinner,f=e.userCards,k=e.setUserCards,g=e.userCardsSum,C=e.setUserCardsSum,v=function(e){"Hit"===e.target.name?(x(u.deck_id,1,f,k,C),m(!1)):"Stand"===e.target.name?(p(!0),i<17&&N()):"DoubleDown"===e.target.name&&(x(u.deck_id,1,f,k,C),a(2*t),c(r-t),p(!0),i<17&&N()),_&&i<17&&N()};Object(s.useEffect)((function(){g>21?(h("dealer"),p(!0)):_&&h(g===i?"draw":g<=21&&g>i?"user":"dealer")}),[i,_,p,h,g]);var N=function(){i<17&&x(u.deck_id,1,n,o,l)};return Object(O.jsx)(O.Fragment,{children:!_&&Object(O.jsxs)("div",{className:j.a.actionsWrapper,children:[Object(O.jsx)("button",{className:j.a.actionsWrapper__action,name:"Hit",onClick:v,children:"Hit"}),Object(O.jsx)("button",{className:j.a.actionsWrapper__action,name:"Stand",onClick:v,children:"Stand"}),d&&r>=t&&Object(O.jsx)("button",{className:j.a.actionsWrapper__action,name:"DoubleDown",onClick:v,children:"Double Down"})]})})},f=a(24),k=a.n(f),g=function(){return Object(O.jsx)("p",{className:k.a.ranking,children:"Ranking"})},C=a(25),v=a.n(C),N=function(){return Object(O.jsx)("p",{className:v.a.roundHistory,children:"Round History"})},S=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(g,{}),Object(O.jsx)(N,{})]})},D=a(6),W=a.n(D),w=function(){var e=Object(s.useContext)(b),t=e.bet,a=e.setBet,r=e.credit,c=e.setCredit,n=function(e){var s=Number(e.target.value);c(r-s),a(t+s)};return Object(O.jsxs)("div",{className:W.a.tokensWrapper,children:[r>=5&&Object(O.jsx)("button",{className:W.a.tokensWrapper__token,value:5,onClick:n,children:"$5"}),r>=10&&Object(O.jsx)("button",{className:W.a.tokensWrapper__token,value:10,onClick:n,children:"$10"}),r>=25&&Object(O.jsx)("button",{className:W.a.tokensWrapper__token,value:25,onClick:n,children:"$25"}),r>=100&&Object(O.jsx)("button",{className:W.a.tokensWrapper__token,value:100,onClick:n,children:"$100"})]})},T=function(){var e=Object(s.useContext)(b),t=e.credit,a=e.isDealAccepted;return Object(O.jsxs)("footer",{className:"".concat(d.a.footer," ").concat(d.a.noSelect),children:[Object(O.jsx)(S,{}),!a&&Object(O.jsx)(w,{}),a&&Object(O.jsx)(h,{}),Object(O.jsxs)("p",{children:["Credit: $",t]})]})},A=a(14),I=a.n(A),y=a(5),B=a.n(y),M=function(e,t,a,s,r,c,n,o,i,l,u,d){e(1e3),t(0),a(null),s(0),r(),c(!1),n(!0),o(!1),i(""),l(1),u(null),d(0)},F=a(15),R=a(16),U=function(e){var t=e.saveGame,a=e.loadGame,r=Object(s.useContext)(b),c=Object(s.useContext)(b),n=c.saveActive,i=c.loadActive,l=Object(s.useState)(!1),u=Object(o.a)(l,2),d=u[0],_=u[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(F.a,{icon:R.b,className:B.a.option,onClick:t,title:"Zapisz gr\u0119"}),Object(O.jsx)(F.a,{icon:R.a,className:B.a.option,onClick:a,title:"Wczytaj gr\u0119"}),Object(O.jsx)(F.a,{icon:R.c,className:B.a.option,onClick:function(){M(r.setCredit,r.setBet,r.setDealerCards,r.setDealerCardsSum,r.setDeck,r.setIsDealAccepted,r.setIsDoubleDownAvailable,r.setIsUserTurnFinished,r.setWinner,r.setRoundNumber,r.setUserCards,r.setUserCardsSum),_(!0),setTimeout((function(){_(!1)}),1500)},title:"Zresetuj gr\u0119"}),d&&Object(O.jsx)("div",{className:B.a.resetMessage,children:Object(O.jsx)("h2",{className:B.a.resetMessage__text,children:"Reset..."})}),n&&Object(O.jsx)("div",{className:B.a.resetMessage,children:Object(O.jsx)("h2",{className:B.a.resetMessage__text,children:"Saving..."})}),i&&Object(O.jsx)("div",{className:B.a.resetMessage,children:Object(O.jsx)("h2",{className:B.a.resetMessage__text,children:"Loading..."})})]})},G=function(e){var t=e.saveGame,a=e.loadGame,r=Object(s.useContext)(b).roundNumber;return Object(O.jsxs)("header",{className:I.a.header,children:[Object(O.jsx)(U,{saveGame:t,loadGame:a}),Object(O.jsxs)("p",{className:"".concat(I.a.header__round," ").concat(I.a.noSelect),children:["Round ",r]})]})},H=a(26),P=a.n(H),E=a(11),J=a.n(E),V=function(){return Object(O.jsxs)("div",{className:"".concat(J.a.backgroundTextWrapper," ").concat(J.a.noSelect),children:[Object(O.jsx)("h1",{className:J.a.backgroundTextWrapper__text,children:"Blackjack pays 3 to 2"}),Object(O.jsx)("h2",{className:J.a.backgroundTextWrapper__text,children:"Dealer must stand on 17 and must draw to 16"})]})},Y=a(7),$=a.n(Y),K=function(e){var t=e.getNewDeck,a=Object(s.useContext)(b),r=a.bet,c=a.isDealAccepted,n=a.setIsDealAccepted;return Object(O.jsxs)("div",{className:$.a.bet,children:[!c&&Object(O.jsx)("button",{className:$.a.bet__deal,onClick:function(){n(!0),t()},children:"Deal"}),Object(O.jsxs)("div",{className:$.a.bet__tokenWrapper,children:[Object(O.jsx)("h2",{className:$.a.bet__header,children:"Bet"}),Object(O.jsx)("div",{className:$.a.bet__token,children:Object(O.jsxs)("p",{children:["$",r]})})]})]})},z=a(20),L=a.n(z),Q=a(21),Z=a.n(Q),q=function(e){var t=e.src;return Object(O.jsx)("div",{className:Z.a.card,children:Object(O.jsx)("img",{className:Z.a.card__img,src:t,alt:"card"})})},X=function(e){var t=e.cards,a=e.playerCardsSum,s=t.map((function(e){return Object(O.jsx)(q,{src:e.images.png},e.code+Math.floor(1e4*Math.random()))}));return Object(O.jsxs)("div",{className:L.a.player,children:[s,a>0&&Object(O.jsx)("p",{className:L.a.player__cardsValue,children:a})]})},ee=a(4),te=a.n(ee),ae=function(e){var t=e.credit,a=e.winner,s=e.click,r=e.roundNumber,c=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:te.a.result__header,children:"Dealer bust!"}),Object(O.jsx)("h3",{className:te.a.result__header,children:"You win"})]}),n=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"".concat(te.a.result__header," ").concat(te.a.result__header_big),children:"Bust!"}),Object(O.jsx)("h3",{className:te.a.result__header,children:"You lost"})]}),o=Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h2",{className:"".concat(te.a.result__header," ").concat(te.a.result__header_big),children:"Draw!"})}),i=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:"".concat(te.a.result__header," ").concat(te.a.result__header_big),children:"Game over!"}),Object(O.jsxs)("h3",{className:te.a.result__header,children:["Your credit is $",t]})]});return Object(O.jsxs)("div",{className:te.a.resultWrapper,children:[Object(O.jsxs)("div",{className:te.a.result,children:[(0===t||5===r)&&i,"user"===a&&c,"dealer"===a&&n,"draw"===a&&o]}),a&&Object(O.jsx)("button",{className:te.a.result__nextGame,onClick:s,children:"Next round"}),(0===t||5===r)&&Object(O.jsx)("button",{className:te.a.result__nextGame,onClick:s,children:"New game"})]})},se=function(){var e=Object(s.useContext)(b),t=e.bet,a=e.setBet,r=e.deck,c=e.setDeck,n=e.dealerCards,o=e.setDealerCards,i=e.setIsDealAccepted,l=e.winner,u=e.userCards,d=e.setUserCards,_=e.userCardsSum,j=e.setUserCardsSum,m=e.setIsUserTurnFinished,p=e.setIsDoubleDownAvailable,h=e.setWinner,f=e.setCredit,k=e.credit,g=e.setRoundNumber,C=e.roundNumber,v=e.dealerCardsSum,N=e.setDealerCardsSum,S=function(e){x(e,2,u,d,j),x(e,1,n,o,N)},D=function(){"user"===l?f(k+1.5*t):"draw"===l&&f(k+t),a(0),o(null),N(0),i(!1),p(!0),m(!1),h(""),g(C+1),d(null),j(0)};return Object(O.jsxs)("main",{className:P.a.main,children:[n&&Object(O.jsx)(X,{cards:n,playerCardsSum:v}),Object(O.jsx)(V,{}),(0===k&&"dealer"===l||5===C&&l)&&Object(O.jsx)(ae,{credit:k,click:function(){M(f,a,o,N,c,i,p,m,h,g,d,j)},roundNumber:C}),"dealer"===l&&C<5&&k>=5&&Object(O.jsx)(ae,{winner:"dealer",click:D}),"user"===l&&C<5&&k>=5&&Object(O.jsx)(ae,{winner:"user",click:D}),"draw"===l&&C<5&&k>=5&&Object(O.jsx)(ae,{winner:"draw",click:D}),u&&Object(O.jsx)(X,{cards:u,playerCardsSum:_}),0!==t&&Object(O.jsx)(K,{getNewDeck:function(){if(1===C){fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=6").then((function(e){if(200===e.status)return e.json();throw Error(e.statusText)})).then((function(e){c(e),S(e.deck_id)})).catch((function(e){return console.log("".concat(e,": Failed to get cards from API"))}))}else S(r.deck_id)}})]})},re=function(){var e=Object(s.useState)(0),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(1e3),n=Object(o.a)(c,2),i=n[0],u=n[1],d=Object(s.useState)(),_=Object(o.a)(d,2),j=_[0],m=_[1],p=Object(s.useState)(0),x=Object(o.a)(p,2),h=x[0],f=x[1],k=Object(s.useState)(),g=Object(o.a)(k,2),C=g[0],v=g[1],N=Object(s.useState)(!1),S=Object(o.a)(N,2),D=S[0],W=S[1],w=Object(s.useState)(!0),A=Object(o.a)(w,2),I=A[0],y=A[1],B=Object(s.useState)(!1),M=Object(o.a)(B,2),F=M[0],R=M[1],U=Object(s.useState)(""),H=Object(o.a)(U,2),P=H[0],E=H[1],J=Object(s.useState)(1),V=Object(o.a)(J,2),Y=V[0],$=V[1],K=Object(s.useState)(),z=Object(o.a)(K,2),L=z[0],Q=z[1],Z=Object(s.useState)(0),q=Object(o.a)(Z,2),X=q[0],ee=q[1],te=Object(s.useState)(!1),ae=Object(o.a)(te,2),re=ae[0],ce=ae[1],ne=Object(s.useState)(!1),oe=Object(o.a)(ne,2),ie=oe[0],le=oe[1],ue={bet:a,setBet:r,credit:i,setCredit:u,dealerCards:j,setDealerCards:m,dealerCardsSum:h,setDealerCardsSum:f,deck:C,setDeck:v,isDealAccepted:D,setIsDealAccepted:W,isDoubleDownAvailable:I,setIsDoubleDownAvailable:y,isUserTurnFinished:F,setIsUserTurnFinished:R,winner:P,setWinner:E,roundNumber:Y,setRoundNumber:$,userCards:L,setUserCards:Q,userCardsSum:X,setUserCardsSum:ee,saveActive:re,loadActive:ie};return Object(O.jsx)(b.Provider,{value:ue,children:Object(O.jsxs)("div",{className:l.a.wrapper,children:[Object(O.jsx)(G,{saveGame:function(){localStorage.setItem("stateGame",JSON.stringify(ue)),ce(!0),setTimeout((function(){ce(!1)}),1500)},loadGame:function(){var e=JSON.parse(localStorage.getItem("stateGame"));e&&(le(!0),r(e.bet),u(e.credit),m(e.dealerCards),f(e.dealerCardsSum),v(e.deck),W(e.isDealAccepted),y(e.isDoubleDownAvailable),R(e.isUserTurnFinished),E(e.winner),$(e.roundNumber),Q(e.userCards),ee(e.userCardsSum),setTimeout((function(){le(!1)}),1500))}}),Object(O.jsx)(se,{}),Object(O.jsx)(T,{})]})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),s(e),r(e),c(e),n(e)}))};n.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(re,{})}),document.getElementById("root")),ce()}],[[38,1,2]]]);
//# sourceMappingURL=main.0a01cbd6.chunk.js.map